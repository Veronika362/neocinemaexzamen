<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è | NeoCinema</title>
  <link rel="stylesheet" href="login.css" />
</head>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCU2XGkZwG3ZiPEssp1bo4QX-xpsWtiV6A",
    authDomain: "neocinema-c6c53.firebaseapp.com",
    projectId: "neocinema-c6c53",
    storageBucket: "neocinema-c6c53.firebasestorage.app",
    messagingSenderId: "757092839012",
    appId: "1:757092839012:web:2904b56d760eebdfd4b971",
    measurementId: "G-229N59F99E"
  };

  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();
</script>

<body>
  <div class="login-container">
    <h2>–í—Ö–æ–¥ –≤ NeoCinema</h2>
    <form class="login-form">
      <input type="email" placeholder="Email" required />
      <input type="password" placeholder="–ü–∞—Ä–æ–ª—å" required />
      <button type="submit">–í–æ–π—Ç–∏</button>
      <p class="signup-link">–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="register.html">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
    </form>
  </div>

  <script>
    document.querySelector('.login-form').addEventListener('submit', function(e) {
      e.preventDefault();

      const email = e.target[0].value;
      const password = e.target[1].value;

      auth.signInWithEmailAndPassword(email, password)
        .then(user => {
          // üî• –≠–¢–û –ì–õ–ê–í–ù–û–ï ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Å—Ç–∞—Ç—É—Å –≤—Ö–æ–¥–∞
          localStorage.setItem("neoUser", "true");

          alert("–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!");
          window.location.href = "account.html"; // –ò–ª–∏ profile.html ‚Äî –µ—Å–ª–∏ —É —Ç–µ–±—è —Ç–∞–∫ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
        })
        .catch(error => {
          alert("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞: " + error.message);
        });
    });
  </script>
</body>
</html>

